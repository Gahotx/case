"use strict";(self["webpackChunkhmtt"]=self["webpackChunkhmtt"]||[]).push([[789],{2130:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"黑马头条 - 登录"}}),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{required:"",name:"mobile",label:"手机号",placeholder:"请输入手机号",rules:[{required:!0,message:"手机号格式错误",pattern:/^1[3-9]\d{9}$/}]},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}}),t("van-field",{attrs:{required:"",name:"code",label:"验证码",placeholder:"请输入验证码",rules:[{required:!0,message:"验证码错误",pattern:/\d{6}/}]},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{loading:e.isLoading,disabled:e.isLoading,"loading-text":"正在登录...",round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)],1)],1)},n=[],r=(a(1424),a(6450)),i=a(586),o=a(3505),l={name:"LoginPage",data(){return{user:{mobile:"13912345678",code:"246810"},isLoading:!1}},methods:{async onSubmit(e){this.isLoading=!0;try{const e=await(0,i.n$)(this.user);(0,o.o4)(e.data.data.token),localStorage.setItem("refresh_token",e.data.data.refresh_token),(0,r.Z)({type:"success",message:"登录成功"}),this.$router.replace({path:"/layout/home"})}catch(t){(0,r.Z)({type:"danger",message:"账号或密码错误"})}this.isLoading=!1}}},u=l,d=a(1001),c=(0,d.Z)(u,s,n,!1,null,null,null),m=c.exports}}]);
//# sourceMappingURL=LoginPage.533fe52a.js.map